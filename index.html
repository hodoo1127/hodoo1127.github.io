<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Everyday Tools — e-tools</title>

  <!-- ✅ SEO 기본 -->
  <meta name="description" content="스톱워치, 타이머, 비밀번호 생성 등 유틸리티 모음. 계정 없이 사용, 데이터는 브라우저에 저장됩니다.">
  <link rel="canonical" href="https://e-tools.kr/"/>

  <!-- hreflang: 언어 버전 상호 참조 -->
  <link rel="alternate" hreflang="ko" href="https://e-tools.kr/">
  <link rel="alternate" hreflang="en" href="https://e-tools.kr/en/">
  <link rel="alternate" hreflang="es" href="https://e-tools.kr/es/">
  <link rel="alternate" hreflang="x-default" href="https://e-tools.kr/">

  <!-- OG/Twitter (공유 미리보기 개선) -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Everyday Tools — e-tools">
  <meta property="og:description" content="스톱워치, 타이머, 비밀번호 생성 등 간편 도구 모음">
  <meta property="og:url" content="https://e-tools.kr/">
  <meta property="og:site_name" content="Everyday Tools">
  <meta property="og:locale" content="ko_KR">
  <!-- NEW: 공유 썸네일 이미지 -->
  <meta property="og:image" content="https://e-tools.kr/assets/og.jpg"> <!-- NEW -->
  <meta property="og:image:width" content="1200"> <!-- NEW -->
  <meta property="og:image:height" content="630"> <!-- NEW -->

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image"> <!-- NEW -->
  <meta name="twitter:title" content="Everyday Tools — e-tools"> <!-- NEW -->
  <meta name="twitter:description" content="스톱워치, 타이머, 비밀번호 생성 등 간편 도구 모음"> <!-- NEW -->
  <meta name="twitter:image" content="https://e-tools.kr/assets/og.jpg"> <!-- NEW -->

  <!-- NEW: 파비콘/아이콘 -->
  <link rel="icon" href="/assets/favicon.ico">
  <link rel="icon" type="image/png" sizes="192x192" href="/assets/icon-192.png">
  <link rel="apple-touch-icon" href="/assets/apple-touch-icon.png">

  <meta name="theme-color" content="#0b0f14"/>
  <link rel="stylesheet" href="/assets/styles.css"/>

  <!-- NEW: 구조화 데이터(JSON-LD) -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebSite",
    "name":"Everyday Tools",
    "url":"https://e-tools.kr/",
    "inLanguage":"ko",
    "potentialAction":{
      "@type":"SearchAction",
      "target":"https://e-tools.kr/?q={search_term_string}",
      "query-input":"required name=search_term_string"
    }
  }
  </script>

  <!-- AdSense (승인 후 주석 해제 & 퍼블리셔 ID 교체) -->
  <!--
  <!-- DISABLED_AD_START (External AdSense script) -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXXXXXX" crossorigin="anonymous"></script>
<!-- DISABLED_AD_END -->
  -->
  <!-- Google tag (gtag.js) -->
  <!-- DISABLED_AD_START (GTM/Analytics (possible ads)) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DSENQD8K4D"></script>
<!-- DISABLED_AD_END -->
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-DSENQD8K4D');
  </script>

</head>
<body>
<!-- 루트(ko)에서는 한국어 고정 -->
<script>try{localStorage.setItem('langForce','ko');}catch(e){}</script>

<div class="wrap" id="root">
  <header>
    <h1 data-i18n="title">Everyday Tools</h1>
    <div class="top-controls">
      <!-- 가시용 드롭다운 -->
      <select id="langSel" class="select" aria-label="Language">
        <option value="ko">한국어</option>
        <option value="en">English</option>
        <option value="es">Español</option>
      </select>
      <!-- 하위 호환용(일부 스크립트가 #lang을 참조할 경우) -->
      <select id="lang" class="select" aria-label="Language" style="display:none">
        <option value="ko">한국어</option>
        <option value="en">English</option>
        <option value="es">Español</option>
      </select>
      <button id="themeToggle" class="toggle" data-i18n="theme_dark">다크 테마</button>
    </div>
  </header>

  <nav role="tablist" aria-label="도구 탭">
    <button class="tabbtn active" role="tab" id="tabbtn-stopwatch" aria-controls="tab-stopwatch" aria-selected="true" data-tab="stopwatch" tabindex="0" data-i18n="tab_stopwatch">스톱워치</button>
    <button class="tabbtn" role="tab" id="tabbtn-countdown" aria-controls="tab-countdown" aria-selected="false" data-tab="countdown" tabindex="-1" data-i18n="tab_countdown">타이머</button>
    <button class="tabbtn" role="tab" id="tabbtn-pwgen" aria-controls="tab-pwgen" aria-selected="false" data-tab="pwgen" tabindex="-1" data-i18n="tab_pw">비밀번호 생성</button>
    <button class="tabbtn" role="tab" id="tabbtn-text" aria-controls="tab-text" aria-selected="false" data-tab="text" tabindex="-1" data-i18n="tab_text">문자/대소문자</button>
    <button class="tabbtn" role="tab" id="tabbtn-url" aria-controls="tab-url" aria-selected="false" data-tab="url" tabindex="-1" data-i18n="tab_url">URL 인/디코더</button>
    <button class="tabbtn" role="tab" id="tabbtn-memo" aria-controls="tab-memo" aria-selected="false" data-tab="memo" tabindex="-1" data-i18n="tab_memo">메모장</button>
    <a class="tabbtn" href="/privacy.html" data-i18n="tab_privacy">개인정보/쿠키</a>
  </nav>

  <div class="ad" id="ad-top"><span class="muted" data-i18n="ad_top">광고 영역(728x90 반응형)</span></div>

  <div class="grid">
    <!-- 스톱워치 -->
    <section class="card" id="tab-stopwatch" role="tabpanel" aria-labelledby="tabbtn-stopwatch" aria-hidden="false">
      <h2 class="title" data-i18n="stopwatch">스톱워치</h2>
      <div class="timer" id="sw-display" role="timer" aria-live="off">00:00.00</div>
      <div class="row">
        <button class="btn primary" id="sw-toggle" data-i18n="start" aria-pressed="false">시작</button>
        <button class="btn" id="sw-lap" data-i18n="lap">랩</button>
        <button class="btn" id="sw-reset" data-i18n="reset">리셋</button>
      </div>
      <ul id="sw-laps" class="muted" style="margin-top:10px; padding-left:18px;"></ul>
    </section>

    <!-- 카운트다운 -->
    <section class="card hidden" id="tab-countdown" role="tabpanel" aria-labelledby="tabbtn-countdown" aria-hidden="true">
      <h2 class="title" data-i18n="countdown">카운트다운 타이머</h2>
      <div class="row">
        <input type="number" id="cd-min" min="0" placeholder="분" data-i18n-ph="minutes_ph" inputmode="numeric" pattern="\d*"/>
        <input type="number" id="cd-sec" min="0" max="59" placeholder="초" data-i18n-ph="seconds_ph" inputmode="numeric" pattern="\d*"/>
        <label class="row" style="gap:6px"><input type="checkbox" id="cd-beep" checked/> <span data-i18n="beep_on_end">종료 시 비프음</span></label>
      </div>
      <div class="row" id="cd-steppers" style="gap:12px; flex-wrap:wrap; margin-top:8px">
        <div class="row" role="group" aria-label="분 조절" style="gap:6px">
          <button class="btn step" data-delta="-600" data-i18n="minus10m">−10분</button>
          <button class="btn step" data-delta="-60"  data-i18n="minus1m">−1분</button>
          <button class="btn step" data-delta="60"   data-i18n="plus1m">+1분</button>
          <button class="btn step" data-delta="600"  data-i18n="plus10m">+10분</button>
        </div>
        <div class="row" role="group" aria-label="초 조절" style="gap:6px">
          <button class="btn step" data-delta="-10"  data-i18n="minus10s">−10초</button>
          <button class="btn step" data-delta="-1"   data-i18n="minus1s">−1초</button>
          <button class="btn step" data-delta="1"    data-i18n="plus1s">+1초</button>
          <button class="btn step" data-delta="10"   data-i18n="plus10s">+10초</button>
        </div>
      </div>
      <div class="timer" id="cd-display" role="timer" aria-live="off">00:00.00</div>
      <div class="row">
        <button class="btn primary" id="cd-toggle" data-i18n="start" aria-pressed="false">시작</button>
        <button class="btn" id="cd-reset" data-i18n="reset">리셋</button>
      </div>
      <p class="muted" style="margin-top:8px" data-i18n="bg_precision">백그라운드 탭에서는 정밀도가 낮아질 수 있습니다. 비프음이 들리지 않으면 브라우저 자동재생/사운드 설정을 확인해 주세요.</p>
    </section>

    <!-- 비밀번호 생성기 -->
    <section class="card hidden" id="tab-pwgen" role="tabpanel" aria-labelledby="tabbtn-pwgen" aria-hidden="true">
      <h2 class="title" data-i18n="pwgen">비밀번호 생성기</h2>
      <div class="row">
        <label><span data-i18n="length">길이</span> <input type="number" id="pw-len" value="16" min="6" max="64"/></label>
        <label class="row" style="gap:6px"><input type="checkbox" id="pw-upper" checked/> <span data-i18n="uppercase">대문자</span></label>
        <label class="row" style="gap:6px"><input type="checkbox" id="pw-lower" checked/> <span data-i18n="lowercase">소문자</span></label>
        <label class="row" style="gap:6px"><input type="checkbox" id="pw-num" checked/> <span data-i18n="numbers">숫자</span></label>
        <label class="row" style="gap:6px"><input type="checkbox" id="pw-symbol" /> <span data-i18n="symbols">기호</span></label>
        <label class="row" style="gap:6px"><input type="checkbox" id="pw-ambig" /> <span data-i18n="no_ambig">유사문자 제외</span></label>
      </div>
      <div class="row" style="margin-top:8px">
        <input type="text" id="pw-out" readonly placeholder="여기에 생성됩니다" class="grow" data-i18n-ph="pw_placeholder"/>
        <button class="btn" id="pw-copy" data-i18n="copy">복사</button>
        <button class="btn primary" id="pw-make" data-i18n="generate">생성</button>
      </div>
      <p class="muted" style="margin-top:8px" data-i18n="crypto_note">브라우저 보안 난수 생성기 사용.</p>
    </section>

    <!-- 텍스트 도구 -->
    <section class="card hidden" id="tab-text" role="tabpanel" aria-labelledby="tabbtn-text" aria-hidden="true">
      <h2 class="title" data-i18n="text_tools">문자수 세기 / 대소문자 변환</h2>
      <textarea id="tx-in" placeholder="여기에 텍스트를 입력하세요" data-i18n-ph="text_ph"></textarea>
      <div class="row" style="margin-top:6px">
        <button class="btn" id="tx-upper" data-i18n="upper">UPPER</button>
        <button class="btn" id="tx-lower" data-i18n="lower">lower</button>
        <button class="btn" id="tx-title" data-i18n="title_case">Title Case</button>
        <button class="btn" id="tx-clear" data-i18n="clear">지우기</button>
      </div>
      <div class="row" style="margin-top:8px"><div class="muted" id="tx-stats">—</div></div>
    </section>

    <!-- URL 도구 -->
    <section class="card hidden" id="tab-url" role="tabpanel" aria-labelledby="tabbtn-url" aria-hidden="true">
      <h2 class="title" data-i18n="url_tools">URL 인코더 / 디코더</h2>
      <textarea id="url-in" placeholder="텍스트 또는 URL" data-i18n-ph="text_or_url"></textarea>
      <div class="row" style="margin-top:8px">
        <button class="btn" id="url-encode" data-i18n="encode">encodeURIComponent</button>
        <button class="btn" id="url-decode" data-i18n="decode">decodeURIComponent</button>
        <button class="btn" id="url-clear" data-i18n="clear">지우기</button>
      </div>
      <textarea id="url-out" placeholder="결과" style="margin-top:8px" data-i18n-ph="result"></textarea>
    </section>

    <!-- 메모장 -->
    <section class="card hidden" id="tab-memo" role="tabpanel" aria-labelledby="tabbtn-memo" aria-hidden="true">
      <h2 class="title" data-i18n="memo">메모장</h2>
      <div class="row">
        <input type="text" id="memo-title" placeholder="파일 이름(옵션) — 비워두면 자동 생성" class="grow" data-i18n-ph="file_name_optional"/>
        <input type="file" id="memo-file" accept=".txt" class="file-hidden" />
        <button class="btn" id="memo-file-btn" type="button" data-i18n="choose_file">파일 선택</button>
        <span class="muted" id="memo-file-name" aria-live="polite" data-i18n="no_file">선택된 파일 없음</span>
      </div>
      <textarea id="memo-area" placeholder="여기에 메모를 작성하세요. 내용은 자동 저장됩니다(LocalStorage)." data-i18n-ph="memo_ph"></textarea>
      <div class="row" style="margin-top:8px">
        <button class="btn primary" id="memo-save" data-i18n="save_txt">txt 파일로 저장</button>
        <button class="btn" id="memo-clear" data-i18n="clear">지우기</button>
        <span class="muted" id="memo-status" data-i18n="autosaved">자동 저장됨</span>
      </div>
    </section>
  </div>

  <div class="ad small" id="ad-bottom"><span class="muted" data-i18n="ad_footer">푸터 광고 영역</span></div>

  <footer>
    <span>© <span id="year"></span> <span data-i18n="brand">Everyday Tools</span></span>
    <span class="muted"><a href="/privacy.html" data-i18n="tab_privacy">개인정보/쿠키</a></span>
  </footer>
</div>

<!-- ESM entry -->
<script type="module" src="/src/main.js"></script>

<!-- 언어 드롭다운: 경로 이동 + 하위호환(#lang) 동기화 -->
<script>
  (function(){
    var sel = document.getElementById('langSel');
    var legacy = document.getElementById('lang');
    if(!sel) return;

    // 현재 경로에서 언어 접두어 제거하여 베이스 경로 계산
    var base = location.pathname.replace(/^\/(en|es)(\/|$)/, '/');

    // 현재 선택 상태 반영
    var cur = /\/en\//.test(location.pathname) ? 'en'
            : /\/es\//.test(location.pathname) ? 'es' : 'ko';
    sel.value = cur;
    if (legacy) legacy.value = cur;

    // 선택 시 언어 경로로 이동
    sel.addEventListener('change', function(){
      if (legacy) legacy.value = sel.value;
      if (sel.value === 'ko') location.href = base;
      if (sel.value === 'en') location.href = '/en' + base;
      if (sel.value === 'es') location.href = '/es' + base;
    });

    // 하위 호환(#lang) 변경도 동기화
    if (legacy) {
      legacy.addEventListener('change', function(){
        sel.value = legacy.value;
        sel.dispatchEvent(new Event('change'));
      });
    }

    // 연도 표시
    var y = document.getElementById('year');
    if (y) y.textContent = new Date().getFullYear();
  })();
</script>
</body>
</html>
